<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>  

<section  class="vh-100" style=" margin-top: 5em;">
    <input type="hidden" id="category" value="<%= category %>">
    <input type="hidden" id="count" value="<%= count %>">
    <h4 class="text-success text-center">Popular Categories:</h4>
    <div style="height: 80vh;margin-left: 65vh;">
        <canvas id="myChart"></canvas>
    </div>
    
</div>
<script type="text/javascript" >
    const count = document.getElementById('count')
    console.log('type:',typeof(count.value),' value:',count.value);
    const countArray = count.value.split(',')
    console.log('type:',typeof(countArray),'values,',countArray);

    const category = document.getElementById('category')
    // console.log(' value:',category.value);
    const categoryArray = category.value.split(',')
    // console.log('values,',categoryArray);

    const ctx = document.getElementById('myChart');
    
    new Chart(ctx, {
      type: 'pie',
      data: {
        labels: categoryArray,
        datasets: [{
          label: 'Orders:',
          data: countArray,
          borderWidth: 1
        }]
      },
    //   options: {
    //     scales: {
    //       y: {
    //         beginAtZero: true
    //       }
    //     }
    //   }
    });
  </script>            
              
</div>
</section>


